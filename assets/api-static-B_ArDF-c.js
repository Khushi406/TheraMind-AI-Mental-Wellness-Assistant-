function l(t){const e={joy:["happy","joyful","excited","thrilled","delighted","cheerful","elated"],sadness:["sad","depressed","down","blue","melancholy","gloomy","disappointed"],anger:["angry","furious","mad","irritated","frustrated","annoyed","rage"],fear:["scared","afraid","terrified","anxious","worried","nervous","frightened"],surprise:["surprised","amazed","shocked","astonished","stunned","bewildered"],neutral:["okay","fine","alright","normal","usual","typical"],grateful:["grateful","thankful","blessed","appreciative","fortunate"],hopeful:["hopeful","optimistic","positive","confident","encouraging"],calm:["calm","peaceful","relaxed","serene","tranquil","composed"]},n=t.toLowerCase(),o=[];for(const[r,a]of Object.entries(e)){let s=0;for(const i of a)n.includes(i)&&(s+=.3);s>0&&o.push({label:r,score:Math.min(s,1)})}return o.length===0&&o.push({label:"neutral",score:.5}),o.sort((r,a)=>a.score-r.score)}function u(t,e){var r;const n=((r=e[0])==null?void 0:r.label)||"neutral",o={joy:"It's wonderful to see you experiencing joy! These positive moments are precious and worth savoring.",sadness:"I hear that you're going through a difficult time. Remember that it's okay to feel sad, and these feelings will pass.",anger:"It sounds like you're feeling frustrated. Take some deep breaths and consider what might help you process these feelings.",fear:"Fear can be overwhelming, but acknowledging it is the first step. What support or resources might help you feel safer?",grateful:"Gratitude is such a powerful emotion. These moments of appreciation can really lift our spirits.",hopeful:"Your hope and optimism shine through. Hold onto these positive feelings as you move forward.",calm:"It's lovely that you're feeling peaceful. These moments of calm are so important for our well-being.",neutral:"Thank you for sharing your thoughts. Even everyday moments are worth reflecting on."};return o[n]||o.neutral}async function d(t){await new Promise(a=>setTimeout(a,1e3));const e=l(t),n=u(t,e),o=JSON.parse(localStorage.getItem("theraMindEntries")||"[]"),r={id:Date.now(),content:t,emotions:e,reflection:n,timestamp:new Date().toISOString()};return o.unshift(r),localStorage.setItem("theraMindEntries",JSON.stringify(o.slice(0,50))),r}async function c(){await new Promise(n=>setTimeout(n,500));const t=["What made you feel grateful today, and how did those moments affect your overall mood?","Describe a challenging emotion you experienced recently. What triggered it, and how did you cope?","What emotion has been most challenging for you to process lately?","How do you show care to the important people in your life?","What helps you feel grounded when stress builds up?","What creative outlet energizes you? How can you make space for it this week?"],e=["I meet myself with patience and compassion.","Each day, I grow a little stronger and wiser.","I allow myself to savor moments of joy.","All feelings pass; I am gentle with myself today.","I breathe deeply; calm grows within me.","I honor my boundaries and respond with care."];return{prompt:t[Math.floor(Math.random()*t.length)],affirmation:e[Math.floor(Math.random()*e.length)]}}async function h(){return await new Promise(e=>setTimeout(e,300)),{entries:JSON.parse(localStorage.getItem("theraMindEntries")||"[]")}}export{h as getHistory,c as getPrompt,d as submitJournalEntry};
